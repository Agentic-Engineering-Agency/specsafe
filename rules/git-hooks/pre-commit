#!/bin/bash
# SpecSafe pre-commit hook

echo "üîç Running SpecSafe pre-commit validation..."

# Check PROJECT_STATE.md exists
if [ ! -f "PROJECT_STATE.md" ]; then
    echo "‚ùå PROJECT_STATE.md not found"
    echo "   Run 'specsafe init' to set up your project"
    exit 1
fi

# Check for TODO markers in committed files (optional)
if grep -r "TODO.*spec" --include="*.ts" --include="*.js" . 2>/dev/null | grep -v node_modules | head -1 >/dev/null; then
    echo "‚ö†Ô∏è  Found TODO items mentioning specs - review before committing"
fi

echo "‚úÖ SpecSafe pre-commit checks passed"
